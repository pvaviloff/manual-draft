## Объектно-ориентированное программирование

Цель ООП достичь полиморфизма. Полиморфизм обеспечивает масштабируемость проекта. Еще одно преимущество ООП это инкапсуляция.

Полиморфизм представляет собой единый сценарий обработки объектов разных экземпляров классов. 
В первую очередь полиморфизма нужно добиться для классов, которые реализуют бизнес логику. 

В пример можно привести формирование одного счета в кафе, где за бар и еду платим отдельно из-за разного формирования цены.
```php 
interface IBill 
{
    public function getSum(): float;
}

class FoodBill implements IBill 
{
    public function getSum(): float
    {
        ...
    }
}

class DrinkBill implements IBill 
{
    public function getSum(): float
    {
        ...
    }
}

class FullBill 
{
    private array $bills = [];
    
    public function addBill(IBill $bill): void
    {
        $this->bills[] = $bill;
    }
    
    public function getBill()
    {
        $sum = 0;
        foreach($this->bills as $bill) {
            $sum += $bill->getSum();
        }
        ...
    }
}
```
При данной реализации добавить отдельный расчет, реализующий другую логику формирования суммы, не составит труда. Но тут так же играет роль сам бизнес процесс, который и диктует требования к реализации.
Всегда из поставленной задачи необходимо попытаться предположить как может измениться процесс. Так как можно усложнить приложение там, где никогда процесс работы не поменяется.

Наследование является достаточно спорным решением для достижения полиморфизма из-за рисков создания God object и/или уход в излишнюю абстракцию, которая приведет к сильной зависимости(связанности) классов между собой вдобавок усложнив читабельность кода.
По возможности не используйте абстрактные классы, если не достигается полиморфизм.

Инкапсуляция помогает же скрыть детали реализации. Зачастую чтоб отрефакторить старый код, понять его логику помогает подход реализуемый в 3 этапа:
- разделить код на логические куски.
- инкапсулировать логику этих кусков кода.
- написав по возможности unit тесты, попутно задокументировав логику работы, внести необходимые изменения.